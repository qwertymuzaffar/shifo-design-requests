@if (breakpointService.isMobile()) {
  <div
    (click)="handleCardClick($event)"
    class="bg-gradient-to-br from-white to-gray-50 border border-gray-200 rounded-xl p-3 hover:shadow-lg active:shadow-xl transition-all cursor-pointer"
  >
    <div class="flex items-start gap-3 mb-3">
      <div
        class="h-12 w-12 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full flex items-center justify-center shrink-0"
      >
        <img src="assets/svg/user.svg" alt="User" class="w-6 h-6" />
      </div>
      <div class="flex-1 min-w-0">
        <h3 class="text-base font-bold text-gray-900 mb-1 truncate">
          {{ doctor().firstName }} {{ doctor().lastName }}
        </h3>
        <p class="text-sm text-gray-600 mb-2 truncate">
          {{ doctor()?.specialization?.name }}
        </p>
        <div class="flex items-center text-sm text-gray-600">
          <lucide-icon
            [name]="Phone"
            [size]="14"
            class="mr-1 shrink-0"
          ></lucide-icon>
          <span class="truncate">{{ doctor().user.phone | phoneFormat }}</span>
          <button
            [cdkCopyToClipboard]="doctor().user.phone"
            (cdkCopyToClipboardCopied)="onCopy.emit()"
            (click)="$event.stopPropagation()"
            class="ml-2 p-1 hover:text-gray-700 transition shrink-0"
            type="button"
            [title]="'manage-doctors.copy' | transloco"
          >
            <lucide-icon [name]="Copy" [size]="14"></lucide-icon>
          </button>
        </div>
      </div>
    </div>

    <div class="space-y-2">
      <div
        class="rounded-lg px-3 py-2 bg-emerald-50 border border-emerald-200 text-emerald-900 text-xs font-medium"
      >
        <div class="flex flex-col gap-1">
          <span class="flex items-center">
            <lucide-icon
              [name]="Wallet"
              [size]="14"
              class="mr-1 shrink-0"
            ></lucide-icon>
            <strong>{{
              'manage-doctors.consultation_fee'
                | transloco: { fee: doctor().consultationFee }
            }}</strong>
          </span>
          <span class="flex items-center">
            <lucide-icon
              [name]="Clock"
              [size]="14"
              class="mr-1 shrink-0"
            ></lucide-icon>
            <strong>{{
              'manage-doctors.working_hours'
                | transloco
                  : {
                      start: doctor().workingHours.start,
                      end: doctor().workingHours.end,
                    }
            }}</strong>
          </span>
          <span class="flex items-center">
            <lucide-icon
              [name]="Award"
              [size]="14"
              class="mr-1 shrink-0"
            ></lucide-icon>
            <strong>{{
              'manage-doctors.experience'
                | transloco: { years: doctor().experience }
            }}</strong>
          </span>
        </div>
      </div>
    </div>

    <div class="flex items-stretch gap-2 mt-3 pt-3 border-t border-gray-200">
      <button
        *ngxPermissionsOnly="[userRole.ADMIN, userRole.ACCOUNTANT]"
        (click)="onEdit.emit(doctor()); $event.stopPropagation()"
        class="flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-semibold text-sky-700 bg-sky-50 hover:bg-sky-100 rounded-lg transition-colors border border-sky-200 min-h-[36px]"
      >
        <lucide-icon [name]="SquarePen" [size]="16"></lucide-icon>
        <span>{{ 'manage-doctors.edit' | transloco }}</span>
      </button>
      <button
        *ngxPermissionsOnly="[userRole.ADMIN, userRole.ACCOUNTANT]"
        (click)="onDelete.emit(doctor().id); $event.stopPropagation()"
        class="flex items-center justify-center px-3 py-2 text-red-700 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-200 min-h-[36px]"
      >
        <lucide-icon [name]="Trash2" [size]="16"></lucide-icon>
      </button>
    </div>
  </div>
} @else {
  <div
    (click)="handleCardClick($event)"
    class="w-full space-x-6 flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:shadow-md transition-shadow cursor-pointer"
  >
    <div class="flex items-start space-x-4 flex-1">
      <div
        class="h-12 w-12 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full flex items-center justify-center shrink-0 self-center"
      >
        <img src="assets/svg/user.svg" alt="" />
      </div>
      <div>
        <h3 class="font-medium text-gray-900">
          {{ doctor().firstName }} {{ doctor().lastName }}
        </h3>
        <p class="text-sm text-gray-600">
          {{ doctor()?.specialization?.name }}
        </p>
        <div class="flex items-center space-x-2 mt-1">
          <div class="flex items-center text-sm text-gray-500">
            <lucide-icon [name]="Phone" [size]="16" class="mr-1"></lucide-icon>
            {{ doctor().user.phone | phoneFormat }}
            <button
              [cdkCopyToClipboard]="doctor().user.phone"
              (cdkCopyToClipboardCopied)="onCopy.emit()"
              (click)="$event.stopPropagation()"
              class="ml-2 hover:text-gray-700 transition"
              type="button"
              [title]="'manage-doctors.copy' | transloco"
            >
              <lucide-icon [name]="Copy" [size]="16"></lucide-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="flex flex-1">
      <div class="flex flex-col items-end">
        <p class="text-sm font-medium text-gray-900">
          {{
            'manage-doctors.consultation_fee'
              | transloco: { fee: doctor().consultationFee }
          }}
        </p>
        <div class="flex items-center text-sm text-gray-500 mt-1">
          <lucide-icon [name]="Clock" [size]="16" class="mr-1"></lucide-icon>
          {{
            'manage-doctors.working_hours'
              | transloco
                : {
                    start: doctor().workingHours.start,
                    end: doctor().workingHours.end,
                  }
          }}
        </div>
        <p class="text-xs text-gray-500 mt-1">
          {{
            'manage-doctors.experience'
              | transloco: { years: doctor().experience }
          }}
        </p>
      </div>
    </div>
    <div class="flex items-start space-x-2">
      <button
        *ngxPermissionsOnly="[userRole.ADMIN, userRole.ACCOUNTANT]"
        (click)="onEdit.emit(doctor()); $event.stopPropagation()"
        class="p-2 text-gray-600 hover:text-sky-600 hover:bg-sky-50 rounded-lg transition-colors"
      >
        <lucide-icon
          [name]="SquarePen"
          [size]="16"
          class="align-middle"
        ></lucide-icon>
      </button>
      <button
        *ngxPermissionsOnly="[userRole.ADMIN, userRole.ACCOUNTANT]"
        class="p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors"
        (click)="onDelete.emit(doctor().id); $event.stopPropagation()"
      >
        <lucide-icon
          [name]="Trash2"
          [size]="16"
          class="align-middle"
        ></lucide-icon>
      </button>
    </div>
  </div>
}
