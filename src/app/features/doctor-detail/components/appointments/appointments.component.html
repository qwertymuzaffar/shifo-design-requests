<div class="space-y-4">
  @if (isLoading()) {
    <div class="space-y-3">
      @for (item of [1, 2, 3, 4, 5]; track item) {
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 animate-pulse">
          <div class="flex items-start gap-4">
            <div class="h-12 w-12 bg-gray-200 rounded-full"></div>
            <div class="flex-1">
              <div class="h-4 bg-gray-200 rounded w-1/3 mb-2"></div>
              <div class="h-3 bg-gray-200 rounded w-1/2"></div>
            </div>
          </div>
        </div>
      }
    </div>
  } @else if (appointments().length === 0) {
    <div class="bg-white rounded-xl shadow-lg p-12 text-center">
      <div class="flex justify-center mb-4">
        <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center">
          <lucide-icon [img]="Calendar" class="w-8 h-8 text-gray-400"></lucide-icon>
        </div>
      </div>
      <h3 class="text-lg font-semibold text-gray-900 mb-2">No Appointments Yet</h3>
      <p class="text-sm text-gray-600">This doctor hasn't had any appointments yet.</p>
    </div>
  } @else {
    <div class="space-y-3">
      @for (appointment of appointments(); track appointment.id) {
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 hover:shadow-md transition-shadow">
          <div class="flex items-start gap-4">
            <div class="h-12 w-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-full flex items-center justify-center flex-shrink-0">
              <lucide-icon [img]="User" class="w-6 h-6 text-blue-700"></lucide-icon>
            </div>

            <div class="flex-1 min-w-0">
              <div class="flex items-start justify-between gap-2 mb-2">
                <h3 class="font-semibold text-gray-900 truncate">
                  {{ appointment.patient?.fullName || 'Unknown Patient' }}
                </h3>
                <span
                  class="px-2.5 py-1 rounded-full text-xs font-medium border flex-shrink-0"
                  [class]="getStatusColor(appointment.status)"
                >
                  {{ getStatusText(appointment.status) }}
                </span>
              </div>

              <div class="space-y-1">
                <div class="flex items-center gap-2 text-sm text-gray-600">
                  <lucide-icon [img]="Calendar" class="w-4 h-4"></lucide-icon>
                  <span>{{ appointment.date | date: 'MMMM d, y' }}</span>
                </div>

                <div class="flex items-center gap-2 text-sm text-gray-600">
                  <lucide-icon [img]="Clock" class="w-4 h-4"></lucide-icon>
                  <span>{{ appointment.time }} ({{ appointment.duration }} min)</span>
                </div>

                @if (appointment.symptoms) {
                  <div class="flex items-start gap-2 text-sm text-gray-600 mt-2">
                    <lucide-icon [img]="FileText" class="w-4 h-4 mt-0.5 flex-shrink-0"></lucide-icon>
                    <span class="line-clamp-2">{{ appointment.symptoms }}</span>
                  </div>
                }
              </div>
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>
